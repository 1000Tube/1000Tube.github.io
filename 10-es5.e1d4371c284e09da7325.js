function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{xXxJ:function(t,e,n){"use strict";n.r(e),n.d(e,"LoginModule",(function(){return y}));var o,r,i,a,s,c,l,u=n("ofXK"),p=n("PCNd"),f=n("tyNb"),d=n("mrSG"),g=n("3Pt+"),b=n("fXoL"),m=n("I/3d"),h=n("UbJi"),v=((a=function(){function t(e,n){_classCallCheck(this,t),this.firestore=e,this.afAuth=n}return _createClass(t,[{key:"login",value:function(t,e){return Object(d.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.afAuth.signInWithEmailAndPassword(t,e));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"recuperarSenha",value:function(t){return Object(d.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.afAuth.sendPasswordResetEmail(t));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"registarEstudante",value:function(t){return Object(d.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(console.log("passo"),this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then((function(t){console.log("passou4: ",t)})),console.log("passou1"),this.afAuth.onAuthStateChanged((function(e){console.log("passou3: ",e),e&&n.firestore.collection("Estudantes").doc(e.uid).update({nome:t.nome})}))));case 1:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||a)(b.bc(m.a),b.bc(h.a))},a.\u0275prov=b.Ob({token:a,factory:a.\u0275fac,providedIn:"root"}),a),w=((i=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n,this.passwordVisivel=!1,this.userEmail=new g.b(""),this.userPassword=new g.b(""),this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"EfetuarLogin",value:function(){return Object(d.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.authService.login(this.userEmail.value,this.userPassword.value).then((function(){return Object(d.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:alert("Bem vindo ao ThousandTube");case 1:case"end":return t.stop()}}),t)})))})).catch((function(){alert("Error")}));case 3:this.isLoading=!1,this.router.navigate(["/"]);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"VisualizarPassword",value:function(){this.passwordVisivel=!this.passwordVisivel}}]),t}()).\u0275fac=function(t){return new(t||i)(b.Sb(v),b.Sb(f.c))},i.\u0275cmp=b.Mb({type:i,selectors:[["app-login-form"]],decls:24,vars:7,consts:[[1,"form-login"],[1,"aceder"],[1,"form"],["type","text","placeholder","Email",3,"formControl"],[1,"password-content"],["placeholder","Palavra-passe",1,"textbox",3,"formControl","type"],["alt","",1,"icon",3,"src","click"],[1,"recuperar"],["routerLink","/login/recuperar-senha",1,""],[1,"btn-primario",3,"click"],[1,"registar"],["href","https://1000tubeadmin.netlify.app/"],["routerLink","/login/registar"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"span",1),b.wc(2,"Aceda a sua conta"),b.Wb(),b.Xb(3,"form",2),b.Tb(4,"input",3),b.Xb(5,"div",4),b.Tb(6,"input",5),b.Xb(7,"img",6),b.fc("click",(function(){return e.VisualizarPassword()})),b.Wb(),b.Wb(),b.Xb(8,"div",7),b.Xb(9,"span",8),b.wc(10,"Esqueceu a palavra-passe?"),b.Wb(),b.Wb(),b.Xb(11,"button",9),b.fc("click",(function(){return e.EfetuarLogin()})),b.wc(12),b.Wb(),b.Wb(),b.Xb(13,"div",10),b.Xb(14,"span"),b.wc(15,"Ainda n\xe3o tem uma conta?"),b.Wb(),b.Xb(16,"span"),b.wc(17,"Registar com "),b.Xb(18,"a",11),b.Xb(19,"b"),b.wc(20,"Instrutor"),b.Wb(),b.Wb(),b.wc(21," ou "),b.Xb(22,"b",12),b.wc(23,"Estudante"),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Ib(4),b.mc("formControl",e.userEmail),b.Ib(2),b.nc("type",e.passwordVisivel?"text":"password"),b.mc("formControl",e.userPassword),b.Ib(1),b.mc("src","assets/icons/"+(e.passwordVisivel?"icon_esconder_password.svg":"icon_visualizar_password.svg"),b.sc),b.Ib(4),b.Kb("spinner",e.isLoading),b.Ib(1),b.xc(e.isLoading?"":"Aceder"))},directives:[g.i,g.f,g.g,g.a,g.e,g.c,f.d],styles:[".form-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.aceder[_ngcontent-%COMP%]{font-family:Pop-Bold;font-size:18px;color:#475677;margin-bottom:35px}.password-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;width:356px;margin-top:28px;margin-bottom:24px}.icon[_ngcontent-%COMP%]{position:absolute;right:0;color:#707070;padding:5px 10px}.recuperar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-family:Pop-Medium;font-size:15px;color:#475677;margin-bottom:44px;cursor:pointer;transition-duration:.4s}.recuperar[_ngcontent-%COMP%]:hover{color:#ffbe58}.registar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-family:Pop-Medium;font-size:15px;color:#475677;margin-top:44px}.registar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-family:Pop-Bold;transition-duration:.4s;cursor:pointer}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]:hover{color:#ffbe58}"]}),i),_=((r=function(){function t(e){_classCallCheck(this,t),this.authService=e,this.userEmail=new g.b(""),this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"recuperarPassword",value:function(){return Object(d.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.authService.recuperarSenha(this.userEmail.value).then((function(){alert("foi enviado uma nova password para o seu email!")})).catch((function(){alert("Erro!, Verifica o seu email")}));case 3:this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||r)(b.Sb(v))},r.\u0275cmp=b.Mb({type:r,selectors:[["app-recuperar-senha-form"]],decls:10,vars:4,consts:[[1,"form-recuperar"],[1,"titulo"],[1,"form"],["type","text","placeholder","Digite o seu email associado",3,"formControl"],[1,"btn-primario",3,"click"],[1,"voltar"],["routerLink","/login",1,""]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"span",1),b.wc(2,"Recuperar Senha"),b.Wb(),b.Xb(3,"form",2),b.Tb(4,"input",3),b.Xb(5,"button",4),b.fc("click",(function(){return e.recuperarPassword()})),b.wc(6),b.Wb(),b.Wb(),b.Xb(7,"div",5),b.Xb(8,"span",6),b.wc(9,"Voltar para o login"),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Ib(4),b.mc("formControl",e.userEmail),b.Ib(1),b.Kb("spinner",e.isLoading),b.Ib(1),b.xc(e.isLoading?"":"Recuperar"))},directives:[g.i,g.f,g.g,g.a,g.e,g.c,f.d],styles:[".form-recuperar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:356px}.titulo[_ngcontent-%COMP%]{font-family:Pop-Bold;font-size:18px;color:#475677;margin-bottom:35px;text-align:center}.form[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .btn-primario[_ngcontent-%COMP%], .voltar[_ngcontent-%COMP%]{margin-top:44px}.voltar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-family:Pop-Medium;font-size:15px;color:#475677;cursor:pointer;transition-duration:.4s}.voltar[_ngcontent-%COMP%]:hover{color:#ffbe58}"]}),r),C=((o=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n,this.passwordVisivel=!1,this.useName=new g.b(""),this.useEmail=new g.b(""),this.usePassword=new g.b(""),this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"VisualizarPassword",value:function(){this.passwordVisivel=!this.passwordVisivel}},{key:"registar",value:function(){return Object(d.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,e={email:this.useEmail.value,password:this.usePassword.value,nome:this.useName.value},console.log("user: ",e),t.next=5,this.authService.registarEstudante(e);case 5:(n=t.sent)&&console.log("resg: ",n),this.isLoading=!1,this.router.navigate(["/login/"]);case 7:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||o)(b.Sb(v),b.Sb(f.c))},o.\u0275cmp=b.Mb({type:o,selectors:[["app-registar-form"]],decls:16,vars:8,consts:[[1,"form-registar"],[1,"aceder"],[1,"form"],["type","text","placeholder","Digite o primeiro e ultimo nome",1,"nome",3,"formControl"],["type","text","placeholder","Email",3,"formControl"],[1,"password-content"],["placeholder","Palavra-passe",1,"textbox",3,"formControl","type"],["alt","",1,"icon",3,"src","click"],[1,"btn-primario",3,"click"],[1,"registar"],["routerLink","/login"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"span",1),b.wc(2,"Preencha os dado para se registar"),b.Wb(),b.Xb(3,"form",2),b.Tb(4,"input",3),b.Tb(5,"input",4),b.Xb(6,"div",5),b.Tb(7,"input",6),b.Xb(8,"img",7),b.fc("click",(function(){return e.VisualizarPassword()})),b.Wb(),b.Wb(),b.Xb(9,"button",8),b.fc("click",(function(){return e.registar()})),b.wc(10),b.Wb(),b.Wb(),b.Xb(11,"div",9),b.Xb(12,"span"),b.wc(13,"J\xe1 tem uma conta? "),b.Xb(14,"b",10),b.wc(15,"Efetuar login"),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Ib(4),b.mc("formControl",e.useName),b.Ib(1),b.mc("formControl",e.useEmail),b.Ib(2),b.nc("type",e.passwordVisivel?"text":"password"),b.mc("formControl",e.usePassword),b.Ib(1),b.mc("src","assets/icons/"+(e.passwordVisivel?"icon_esconder_password.svg":"icon_visualizar_password.svg"),b.sc),b.Ib(1),b.Kb("spinner",e.isLoading),b.Ib(1),b.xc(e.isLoading?"":"Registar"))},directives:[g.i,g.f,g.g,g.a,g.e,g.c,f.d],styles:[".form-registar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.aceder[_ngcontent-%COMP%]{font-family:Pop-Bold;font-size:18px;color:#475677;margin-bottom:35px}.nome[_ngcontent-%COMP%]{margin-bottom:28px}.password-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;width:356px;margin-top:28px;margin-bottom:44px}.icon[_ngcontent-%COMP%]{position:absolute;right:0;color:#707070;padding:5px 10px}.registar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-family:Pop-Medium;font-size:15px;color:#475677;margin-top:44px}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-family:Pop-Bold;transition-duration:.4s;cursor:pointer}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]:hover{color:#ffbe58}"]}),o),P=[{path:"",component:(s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.Ano=(new Date).getFullYear()}}]),t}(),s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=b.Mb({type:s,selectors:[["app-login"]],decls:11,vars:1,consts:[[1,"login"],[1,"left"],["routerLink","/","src","assets/images/logo_branco.svg","alt","",1,"logo","router-link-active"],["src","assets/images/login.jpg","alt","",1,"fundo"],[1,"gradient"],[1,"right"],[1,"content"],[1,"footer"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Tb(2,"img",2),b.Tb(3,"img",3),b.Tb(4,"div",4),b.Wb(),b.Xb(5,"div",5),b.Xb(6,"div",6),b.Tb(7,"router-outlet"),b.Wb(),b.Xb(8,"div",7),b.Xb(9,"span"),b.wc(10),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Ib(10),b.yc("Copyright \xa9 ",e.Ano," - 1000Tube"))},directives:[f.d,f.g],styles:[".login[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%]{position:relative;width:50%;height:100vh;background-color:#eda0a8}.left[_ngcontent-%COMP%]   .fundo[_ngcontent-%COMP%]{z-index:10;-o-object-fit:cover;object-fit:cover}.left[_ngcontent-%COMP%]   .fundo[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.left[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]{z-index:11;background:#001550;background:linear-gradient(151deg,#001550 -10%,rgba(0,21,80,.45) 30%,rgba(0,21,80,.45))}.left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;z-index:12;top:24px;left:22px;cursor:pointer}.right[_ngcontent-%COMP%]{position:relative;flex-direction:column;align-items:center;width:50%;height:100vh}.right[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:absolute;padding:18px;font-family:Rubik-regular;font-size:15px;color:#7d8597;width:50vw;border-top:1px solid #eaecef;left:0;bottom:0}"]}),s),children:[{path:"",component:w},{path:"recuperar-senha",component:_},{path:"registar",component:C}]}],x=((l=function t(){_classCallCheck(this,t)}).\u0275mod=b.Qb({type:l}),l.\u0275inj=b.Pb({factory:function(t){return new(t||l)},imports:[[f.f.forChild(P)],f.f]}),l),y=((c=function t(){_classCallCheck(this,t)}).\u0275mod=b.Qb({type:c}),c.\u0275inj=b.Pb({factory:function(t){return new(t||c)},imports:[[u.b,x,p.a]]}),c)}}]);