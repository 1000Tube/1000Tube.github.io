(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{xXxJ:function(t,e,n){"use strict";n.r(e),n.d(e,"LoginModule",(function(){return h}));var o=n("ofXK"),i=n("PCNd"),r=n("tyNb"),s=n("mrSG"),a=n("3Pt+"),c=n("fXoL"),l=n("I/3d"),u=n("UbJi");let d=(()=>{class t{constructor(t,e){this.firestore=t,this.afAuth=e}login(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){return this.afAuth.signInWithEmailAndPassword(t,e)}))}recuperarSenha(t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){return this.afAuth.sendPasswordResetEmail(t)}))}registarEstudante(t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){return console.log("passo"),this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(t=>{console.log("passou4: ",t)}),console.log("passou1"),this.afAuth.onAuthStateChanged(e=>{console.log("passou3: ",e),e&&this.firestore.collection("Estudantes").doc(e.uid).update({nome:t.nome})})}))}}return t.\u0275fac=function(e){return new(e||t)(c.bc(l.a),c.bc(u.a))},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.passwordVisivel=!1,this.userEmail=new a.b(""),this.userPassword=new a.b(""),this.isLoading=!1}ngOnInit(){}EfetuarLogin(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.isLoading=!0,yield this.authService.login(this.userEmail.value,this.userPassword.value).then(()=>Object(s.__awaiter)(this,void 0,void 0,(function*(){alert("Bem vindo ao ThousandTube")}))).catch(()=>{alert("Error")}),this.isLoading=!1,this.router.navigate(["/"])}))}VisualizarPassword(){this.passwordVisivel=!this.passwordVisivel}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(d),c.Sb(r.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-login-form"]],decls:24,vars:7,consts:[[1,"form-login"],[1,"aceder"],[1,"form"],["type","text","placeholder","Email",3,"formControl"],[1,"password-content"],["placeholder","Palavra-passe",1,"textbox",3,"formControl","type"],["alt","",1,"icon",3,"src","click"],[1,"recuperar"],["routerLink","/login/recuperar-senha",1,""],[1,"btn-primario",3,"click"],[1,"registar"],["href","https://1000tubeadmin.netlify.app/"],["routerLink","/login/registar"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"span",1),c.wc(2,"Aceda a sua conta"),c.Wb(),c.Xb(3,"form",2),c.Tb(4,"input",3),c.Xb(5,"div",4),c.Tb(6,"input",5),c.Xb(7,"img",6),c.fc("click",(function(){return e.VisualizarPassword()})),c.Wb(),c.Wb(),c.Xb(8,"div",7),c.Xb(9,"span",8),c.wc(10,"Esqueceu a palavra-passe?"),c.Wb(),c.Wb(),c.Xb(11,"button",9),c.fc("click",(function(){return e.EfetuarLogin()})),c.wc(12),c.Wb(),c.Wb(),c.Xb(13,"div",10),c.Xb(14,"span"),c.wc(15,"Ainda n\xe3o tem uma conta?"),c.Wb(),c.Xb(16,"span"),c.wc(17,"Registar com "),c.Xb(18,"a",11),c.Xb(19,"b"),c.wc(20,"Instrutor"),c.Wb(),c.Wb(),c.wc(21," ou "),c.Xb(22,"b",12),c.wc(23,"Estudante"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Ib(4),c.mc("formControl",e.userEmail),c.Ib(2),c.nc("type",e.passwordVisivel?"text":"password"),c.mc("formControl",e.userPassword),c.Ib(1),c.mc("src","assets/icons/"+(e.passwordVisivel?"icon_esconder_password.svg":"icon_visualizar_password.svg"),c.sc),c.Ib(4),c.Kb("spinner",e.isLoading),c.Ib(1),c.xc(e.isLoading?"":"Aceder"))},directives:[a.i,a.f,a.g,a.a,a.e,a.c,r.d],styles:[".form-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.aceder[_ngcontent-%COMP%]{font-family:Pop-Bold;font-size:18px;color:#475677;margin-bottom:35px}.password-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;width:356px;margin-top:28px;margin-bottom:24px}.icon[_ngcontent-%COMP%]{position:absolute;right:0;color:#707070;padding:5px 10px}.recuperar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-family:Pop-Medium;font-size:15px;color:#475677;margin-bottom:44px;cursor:pointer;transition-duration:.4s}.recuperar[_ngcontent-%COMP%]:hover{color:#ffbe58}.registar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-family:Pop-Medium;font-size:15px;color:#475677;margin-top:44px}.registar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-family:Pop-Bold;transition-duration:.4s;cursor:pointer}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]:hover{color:#ffbe58}"]}),t})(),g=(()=>{class t{constructor(t){this.authService=t,this.userEmail=new a.b(""),this.isLoading=!1}ngOnInit(){}recuperarPassword(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.isLoading=!0,yield this.authService.recuperarSenha(this.userEmail.value).then(()=>{alert("foi enviado uma nova password para o seu email!")}).catch(()=>{alert("Erro!, Verifica o seu email")}),this.isLoading=!1}))}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(d))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-recuperar-senha-form"]],decls:10,vars:4,consts:[[1,"form-recuperar"],[1,"titulo"],[1,"form"],["type","text","placeholder","Digite o seu email associado",3,"formControl"],[1,"btn-primario",3,"click"],[1,"voltar"],["routerLink","/login",1,""]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"span",1),c.wc(2,"Recuperar Senha"),c.Wb(),c.Xb(3,"form",2),c.Tb(4,"input",3),c.Xb(5,"button",4),c.fc("click",(function(){return e.recuperarPassword()})),c.wc(6),c.Wb(),c.Wb(),c.Xb(7,"div",5),c.Xb(8,"span",6),c.wc(9,"Voltar para o login"),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Ib(4),c.mc("formControl",e.userEmail),c.Ib(1),c.Kb("spinner",e.isLoading),c.Ib(1),c.xc(e.isLoading?"":"Recuperar"))},directives:[a.i,a.f,a.g,a.a,a.e,a.c,r.d],styles:[".form-recuperar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:356px}.titulo[_ngcontent-%COMP%]{font-family:Pop-Bold;font-size:18px;color:#475677;margin-bottom:35px;text-align:center}.form[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .btn-primario[_ngcontent-%COMP%], .voltar[_ngcontent-%COMP%]{margin-top:44px}.voltar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-family:Pop-Medium;font-size:15px;color:#475677;cursor:pointer;transition-duration:.4s}.voltar[_ngcontent-%COMP%]:hover{color:#ffbe58}"]}),t})(),b=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.passwordVisivel=!1,this.useName=new a.b(""),this.useEmail=new a.b(""),this.usePassword=new a.b(""),this.isLoading=!1}ngOnInit(){}VisualizarPassword(){this.passwordVisivel=!this.passwordVisivel}registar(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.isLoading=!0;const t={email:this.useEmail.value,password:this.usePassword.value,nome:this.useName.value};console.log("user: ",t);const e=yield this.authService.registarEstudante(t);e&&console.log("resg: ",e),this.isLoading=!1,this.router.navigate(["/login/"])}))}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(d),c.Sb(r.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-registar-form"]],decls:16,vars:8,consts:[[1,"form-registar"],[1,"aceder"],[1,"form"],["type","text","placeholder","Digite o primeiro e ultimo nome",1,"nome",3,"formControl"],["type","text","placeholder","Email",3,"formControl"],[1,"password-content"],["placeholder","Palavra-passe",1,"textbox",3,"formControl","type"],["alt","",1,"icon",3,"src","click"],[1,"btn-primario",3,"click"],[1,"registar"],["routerLink","/login"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"span",1),c.wc(2,"Preencha os dado para se registar"),c.Wb(),c.Xb(3,"form",2),c.Tb(4,"input",3),c.Tb(5,"input",4),c.Xb(6,"div",5),c.Tb(7,"input",6),c.Xb(8,"img",7),c.fc("click",(function(){return e.VisualizarPassword()})),c.Wb(),c.Wb(),c.Xb(9,"button",8),c.fc("click",(function(){return e.registar()})),c.wc(10),c.Wb(),c.Wb(),c.Xb(11,"div",9),c.Xb(12,"span"),c.wc(13,"J\xe1 tem uma conta? "),c.Xb(14,"b",10),c.wc(15,"Efetuar login"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Ib(4),c.mc("formControl",e.useName),c.Ib(1),c.mc("formControl",e.useEmail),c.Ib(2),c.nc("type",e.passwordVisivel?"text":"password"),c.mc("formControl",e.usePassword),c.Ib(1),c.mc("src","assets/icons/"+(e.passwordVisivel?"icon_esconder_password.svg":"icon_visualizar_password.svg"),c.sc),c.Ib(1),c.Kb("spinner",e.isLoading),c.Ib(1),c.xc(e.isLoading?"":"Registar"))},directives:[a.i,a.f,a.g,a.a,a.e,a.c,r.d],styles:[".form-registar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.aceder[_ngcontent-%COMP%]{font-family:Pop-Bold;font-size:18px;color:#475677;margin-bottom:35px}.nome[_ngcontent-%COMP%]{margin-bottom:28px}.password-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative;width:356px;margin-top:28px;margin-bottom:44px}.icon[_ngcontent-%COMP%]{position:absolute;right:0;color:#707070;padding:5px 10px}.registar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-family:Pop-Medium;font-size:15px;color:#475677;margin-top:44px}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-family:Pop-Bold;transition-duration:.4s;cursor:pointer}.registar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]:hover{color:#ffbe58}"]}),t})();const f=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){this.Ano=(new Date).getFullYear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-login"]],decls:11,vars:1,consts:[[1,"login"],[1,"left"],["routerLink","/","src","assets/images/logo_branco.svg","alt","",1,"logo","router-link-active"],["src","assets/images/login.jpg","alt","",1,"fundo"],[1,"gradient"],[1,"right"],[1,"content"],[1,"footer"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Tb(2,"img",2),c.Tb(3,"img",3),c.Tb(4,"div",4),c.Wb(),c.Xb(5,"div",5),c.Xb(6,"div",6),c.Tb(7,"router-outlet"),c.Wb(),c.Xb(8,"div",7),c.Xb(9,"span"),c.wc(10),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Ib(10),c.yc("Copyright \xa9 ",e.Ano," - 1000Tube"))},directives:[r.d,r.g],styles:[".login[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%]{position:relative;width:50%;height:100vh;background-color:#eda0a8}.left[_ngcontent-%COMP%]   .fundo[_ngcontent-%COMP%]{z-index:10;-o-object-fit:cover;object-fit:cover}.left[_ngcontent-%COMP%]   .fundo[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.left[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]{z-index:11;background:#001550;background:linear-gradient(151deg,#001550 -10%,rgba(0,21,80,.45) 30%,rgba(0,21,80,.45))}.left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;z-index:12;top:24px;left:22px;cursor:pointer}.right[_ngcontent-%COMP%]{position:relative;flex-direction:column;align-items:center;width:50%;height:100vh}.right[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:absolute;padding:18px;font-family:Rubik-regular;font-size:15px;color:#7d8597;width:50vw;border-top:1px solid #eaecef;left:0;bottom:0}"]}),t})(),children:[{path:"",component:p},{path:"recuperar-senha",component:g},{path:"registar",component:b}]}];let m=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[r.f.forChild(f)],r.f]}),t})(),h=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[o.b,m,i.a]]}),t})()}}]);